<Window x:Class="MyOrganizer.Wpf.MVVM.UI.ToothWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:loc="clr-namespace:MyOrganizer.Wpf.Localization"
        Title="Tooth Chart" Height="720" Width="980"
        Loaded="Window_Loaded"
        ShowInTaskbar="False"   
        Background="#0F1115">
    <Window.Resources>

        <!-- === Tooth geometries (simple but tooth-like) === -->
        <!-- Incisor: shovel-like -->
        <Geometry x:Key="G.IncisorUpper">M 10,8 C 18,6 42,6 50,8 52,20 52,42 30,50 8,42 8,20 10,8 Z</Geometry>
        <Geometry x:Key="G.IncisorLower">M 10,10 C 18,12 42,12 50,10 52,22 52,40 30,46 8,40 8,22 10,10 Z</Geometry>

        <!-- Canine: pointed -->
        <Geometry x:Key="G.CanineUpper">M 10,8 C 22,6 38,6 50,8 52,24 46,44 30,58 14,44 8,24 10,8 Z</Geometry>
        <Geometry x:Key="G.CanineLower">M 10,10 C 22,12 38,12 50,10 50,26 42,42 30,54 18,42 10,26 10,10 Z</Geometry>

        <!-- Premolar: ovalish with slight grooves -->
        <Geometry x:Key="G.PremolarUpper">M 8,14 C 16,4 44,4 52,14 54,28 44,44 30,48 16,44 6,28 8,14 Z</Geometry>
        <Geometry x:Key="G.PremolarLower">M 8,18 C 16,10 44,10 52,18 52,30 44,42 30,46 16,42 8,30 8,18 Z</Geometry>

        <!-- Molar: broader, multi-cusped -->
        <Geometry x:Key="G.MolarUpper">M 6,18 C 10,6 50,6 54,18 54,36 44,50 30,54 16,50 6,36 6,18 Z</Geometry>
        <Geometry x:Key="G.MolarLower">M 6,22 C 10,12 50,12 54,22 54,38 44,50 30,54 16,50 6,38 6,22 Z</Geometry>

        <!-- Badge chip template for procedure abbreviations -->
        <DataTemplate x:Key="BadgeTemplate">
            <Border CornerRadius="6" Padding="4,2" Margin="2"
                    Background="{Binding Brush}" Opacity="0.95">
                <TextBlock Text="{Binding Code}"
                           FontWeight="Bold"
                           Foreground="White"
                           FontSize="10"/>
            </Border>
        </DataTemplate>

        <!-- Tooth button reusable style -->
        <Style x:Key="ToothButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <!-- tooth shape -->
                            <Path x:Name="PART_ToothPath"
                                  Stretch="Uniform"
                                  Width="{TemplateBinding Width}"
                                  Height="{TemplateBinding Height}"
                                  Fill="#FFF8F4"
                                  Stroke="#8099A3B0"
                                  StrokeThickness="1.2"
                                  Data="{TemplateBinding Tag}">
                                <Path.Effect>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="8" Opacity="0.15"/>
                                </Path.Effect>
                            </Path>

                            <!-- subtle occlusal grooves -->
                            <Path Data="M12,26 C22,20 38,20 48,26"
                                  Stroke="#405A6B" StrokeThickness="0.8" Opacity="0.25"
                                  Stretch="Fill" Margin="8"/>

                            <!-- badges in top-right corner -->
                            <ItemsControl x:Name="PART_Badges"
                                          ItemTemplate="{StaticResource BadgeTemplate}"
                                          HorizontalAlignment="Right"
                                          VerticalAlignment="Top"
                                          Margin="0,2,0,0">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Orientation="Horizontal"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                            </ItemsControl>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="PART_ToothPath" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="PART_ToothPath" Property="Stroke" Value="#FF4FC3F7"/>
                                <Setter TargetName="PART_ToothPath" Property="StrokeThickness" Value="1.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="24"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header: client name -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="4,0,4,8" VerticalAlignment="Center">
            <TextBlock Text="Client:" Foreground="#9DB0C0" Margin="0,0,6,0"/>
            <TextBlock x:Name="TxtClientName" Text="—" Foreground="White" FontWeight="SemiBold"/>
        </StackPanel>

        <!-- Upper arch label -->
        <TextBlock Grid.Row="1" Text="Upper Arch"
                   Foreground="#6CA3D7" FontWeight="Bold" />

        <!-- Upper arch: 18..11 | 21..28 -->
        <UniformGrid Grid.Row="2" Rows="1" Columns="16" Margin="0,8,0,16">
            <!-- 18..11 -->
            <!-- Molars (18,17,16) -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="56"
                    ToolTip="18" Tag="{StaticResource G.MolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="56"
                    ToolTip="17" Tag="{StaticResource G.MolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="56"
                    ToolTip="16" Tag="{StaticResource G.MolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <!-- Premolars (15,14) -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="52"
                    ToolTip="15" Tag="{StaticResource G.PremolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="52"
                    ToolTip="14" Tag="{StaticResource G.PremolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <!-- Canine (13) -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="58"
                    ToolTip="13" Tag="{StaticResource G.CanineUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <!-- Lateral + Central incisors (12,11) -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="56"
                    ToolTip="12" Tag="{StaticResource G.IncisorUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="58"
                    ToolTip="11" Tag="{StaticResource G.IncisorUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>

            <!-- 21..28 -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="58"
                    ToolTip="21" Tag="{StaticResource G.IncisorUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="56"
                    ToolTip="22" Tag="{StaticResource G.IncisorUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="58"
                    ToolTip="23" Tag="{StaticResource G.CanineUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="52"
                    ToolTip="24" Tag="{StaticResource G.PremolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="52"
                    ToolTip="25" Tag="{StaticResource G.PremolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="56"
                    ToolTip="26" Tag="{StaticResource G.MolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="56"
                    ToolTip="27" Tag="{StaticResource G.MolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="56"
                    ToolTip="28" Tag="{StaticResource G.MolarUpper}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
        </UniformGrid>

        <!-- Lower arch label -->
        <TextBlock Grid.Row="3" Text="Lower Arch"
                   Foreground="#6CA3D7" FontWeight="Bold" Margin="0,8,0,0"/>

        <!-- Lower arch: 48..41 | 31..38 -->
        <UniformGrid Grid.Row="4" Rows="1" Columns="16" Margin="0,8,0,0">
            <!-- 48..41 -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="52"
                    ToolTip="48" Tag="{StaticResource G.MolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="52"
                    ToolTip="47" Tag="{StaticResource G.MolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="52"
                    ToolTip="46" Tag="{StaticResource G.MolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="48"
                    ToolTip="45" Tag="{StaticResource G.PremolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="48"
                    ToolTip="44" Tag="{StaticResource G.PremolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="52"
                    ToolTip="43" Tag="{StaticResource G.CanineLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="48" Height="48"
                    ToolTip="42" Tag="{StaticResource G.IncisorLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="50"
                    ToolTip="41" Tag="{StaticResource G.IncisorLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>

            <!-- 31..38 -->
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="50"
                    ToolTip="31" Tag="{StaticResource G.IncisorLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="48" Height="48"
                    ToolTip="32" Tag="{StaticResource G.IncisorLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="50" Height="52"
                    ToolTip="33" Tag="{StaticResource G.CanineLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="48"
                    ToolTip="34" Tag="{StaticResource G.PremolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="52" Height="48"
                    ToolTip="35" Tag="{StaticResource G.PremolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="52"
                    ToolTip="36" Tag="{StaticResource G.MolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="52"
                    ToolTip="37" Tag="{StaticResource G.MolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
            <Button Style="{StaticResource ToothButtonStyle}" Width="56" Height="52"
                    ToolTip="38" Tag="{StaticResource G.MolarLower}"
                    Click="Tooth_Click" ContextMenuOpening="Tooth_ContextMenu"/>
        </UniformGrid>
    </Grid>
</Window>
